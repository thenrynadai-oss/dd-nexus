<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vasteria Gate ‚Äî Portal</title>
  <link rel="stylesheet" href="global.css" />
  <link rel="stylesheet" href="auth.css" />

  <script>
  // Aplica o tema ANTES do paint (evita flicker/overlap).
  (function(){
    try{
      var t = localStorage.getItem('vasteria_theme') || 'coffee_caramel';
      var k = localStorage.getItem('vasteria_theme_kind') || 'minimal';
      // compat: 'caramel' antigo vira 'coffee_caramel'
      if(t === 'caramel') t = 'coffee_caramel';
      document.documentElement.setAttribute('data-theme', t);
      document.documentElement.setAttribute('data-theme-group', k);
    }catch(e){}
  })();
  </script>

</head>
<body>
  <canvas id="bg-canvas"></canvas>

  <!-- √öNICO bot√£o de temas (abre o modal flutuante) -->
  <button class="dock-trigger-large open-themes" data-action="open-themes" title="Temas">üé®</button>

  <main class="auth-wrap">
    <section class="auth-shell">

      <!-- BLOCO 1: Login / Cadastro -->
      <div class="auth-card panel-skin">
        <h1>VASTERIA GATE</h1>
        <p>Portal de acesso ‚Äî fa√ßa login ou crie uma conta. Seus dados ficam salvos no seu dispositivo (localStorage).</p>

        <div class="auth-tabs">
          <button id="tab-login" class="tab active" type="button">LOGIN</button>
          <button id="tab-register" class="tab" type="button">CADASTRO</button>
        </div>

        <div id="msg" class="auth-msg" style="display:none;"></div>

        <!-- LOGIN -->
        <div id="login-form" class="auth-form">
          <div class="field">
            <label>Identifica√ß√£o</label>
            <input id="login-id" type="text" placeholder="Apelido ‚Ä¢ Email ‚Ä¢ Celular" autocomplete="username" />
          </div>
          <div class="field">
            <label>Senha</label>
            <input id="login-pass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password" />
          </div>

          <button id="btn-login" class="btn-primary" type="button">CONECTAR</button>

          <button id="btn-google" class="btn-ghost btn-google" type="button">ENTRAR COM GOOGLE</button>
        </div>

        <!-- CADASTRO -->
        <div id="register-form" class="auth-form" style="display:none;">
          <div class="profile-upload">
            <div class="upload-circle" id="reg-photo-btn" title="Selecionar foto">
              <div id="reg-photo-preview" class="preview-circle"><span>+ FOTO</span></div>
            </div>
            <input id="reg-photo" type="file" accept="image/*" hidden />
          </div>

          <div class="field">
            <label>Nome</label>
            <input id="reg-name" type="text" placeholder="Seu nome" autocomplete="name" />
          </div>
          <div class="field">
            <label>Apelido (√∫nico)</label>
            <input id="reg-nick" type="text" placeholder="Codinome (sem repetir)" autocomplete="nickname" />
          </div>
          <div class="field">
            <label>Email ou Celular</label>
            <input id="reg-contact" type="text" placeholder="ex: voce@email.com ou 11999990000" autocomplete="email" />
          </div>
          <div class="field">
            <label>Senha</label>
            <input id="reg-pass" type="password" placeholder="Crie uma senha" autocomplete="new-password" />
          </div>

          <button id="btn-register" class="btn-primary" type="button">REGISTRAR</button>
        </div>

        <div class="auth-footnote">
          <span>Dica:</span> no login, voc√™ pode usar <b>apelido</b>, <b>email</b> ou <b>celular</b>.
        </div>
      </div>

      <!-- BLOCO 2: Quickload -->
      <div class="quick-card panel-skin">
        <div class="quick-top">
          <div>
            <h2>QUICKLOAD</h2>
            <p>Contas salvas para acesso r√°pido neste dispositivo.</p>
          </div>
          <button id="btn-clear-quick" type="button" class="btn-ghost">Remover tudo</button>
        </div>

        <div id="quick-list" class="quick-list"></div>

        <div class="quick-hint">
          Clique em uma conta para preencher o login.
          <br/>Use o √≠cone üóëÔ∏è para remover da lista r√°pida.
        </div>
      </div>

    </section>
  </main>

  <script src="auth.js"></script>
  <script src="firebase.config.js"></script>
  <script src="cloud/vgcloud.js"></script>
  <script src="themes.js"></script>
  <script src="bg.js"></script>
  <script src="index.js"></script>
</body>
</html>
