@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Cinzel:wght@400;700&family=Roboto+Mono:wght@400;500&display=swap');

/* =========================================================
   VASTERIA GATE — GLOBAL CORE
   - Regras: NÃO MEXER EM IDs DO HTML
   - Arquivo acumulativo: mantém componentes antigos + novos
   ========================================================= */

:root{
  --font-main:'Outfit',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  --font-title:'Cinzel',serif;
  --font-mono:'Roboto Mono',ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;

  --radius:16px;
  --transition:0.4s cubic-bezier(0.25,0.8,0.25,1);

  /* Base UI tokens (podem ser sobrescritos por tema) */
  --bg-app:#0b0f16;
  --bg-panel:rgba(15,20,30,0.78);
  --bg-input:rgba(255,255,255,0.06);
  --text-primary:#e8f0ff;
  --text-secondary:rgba(232,240,255,0.65);
  --border:rgba(255,255,255,0.14);
  --accent:#7dd3fc;
  --accent-glow:rgba(125,211,252,0.5);

  /* Botões de seleção (azul do "CONFIRMAR") */
  --ui-blue:#3b82f6;
  --ui-blue-glow:rgba(59,130,246,0.55);

  /* Skin tokens (painéis, cantos, texturas) */
  --skin-panel-radius:18px;
  --skin-panel-blur:14px;
  --skin-panel-shadow:0 20px 60px rgba(0,0,0,0.55);
  --skin-panel-border:1px solid var(--border);
  --skin-panel-bg:var(--bg-panel);

  --skin-input-radius:8px;
  --skin-input-border:1px solid var(--border);

  --skin-avatar-radius:18px;
  --skin-avatar-border:3px solid var(--accent);

  --overlay-opacity:0.35;     /* textura acima */
  --overlay-softness:0.35;    /* "neblina" */
  --overlay-tint:rgba(0,0,0,0.25);

  /* Aux para BG engine (bg.js) */
  --bg-1:#0b0f16;
  --bg-2:#0b1a2a;
  --bg-3:#1c0f2a;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
  margin:0;
  font-family:var(--font-main);
  color:var(--text-primary);
  background: radial-gradient(1200px 600px at 20% 20%, rgba(255,255,255,0.06), transparent 60%),
              radial-gradient(900px 600px at 80% 70%, rgba(255,255,255,0.04), transparent 60%),
              linear-gradient(180deg, var(--bg-app), #05070b 70%);
  overflow-x:hidden;
  min-height:100vh;
  transition: background 0.8s ease, color 0.5s ease;
  position:relative;
}

/* =========================================================
   ANTIFLICKER (troca de tema)
   - evita piscar/transição de bg ao trocar de aba ou tema
   ========================================================= */
html[data-theme-switching="1"] body,
html[data-theme-switching="1"] body::before,
html[data-theme-switching="1"] body::after{
  transition:none !important;
}

/* =========================================================
   GRUPOS (LOW POLY / CLASSE / MINIMAL / SECRET)
   - controla o "clima" geral sem precisar repetir por tema
   ========================================================= */

/* MINIMAL = mínimo mesmo */
html[data-theme-group="minimal"]{
  --overlay-opacity:0.10;
  --overlay-softness:0.25;
}
html[data-theme-group="minimal"] body::after{
  opacity:var(--overlay-opacity);
}

/* LOW POLY = cenário vivo + padrão lowpoly suave */
html[data-theme-group="lowpoly"]{
  --overlay-opacity:0.30;
  --overlay-softness:0.30;
}
html[data-theme-group="lowpoly"] body::after{
  background:
    radial-gradient(circle at 18% 20%, rgba(255,255,255,0.08), transparent 55%),
    radial-gradient(circle at 82% 70%, rgba(255,255,255,0.06), transparent 60%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='420' height='360' viewBox='0 0 420 360'%3E%3Cg fill='none' stroke='rgba(255,255,255,0.12)' stroke-width='1'%3E%3Cpath d='M0 60 L70 0 L140 60 L70 120 Z'/%3E%3Cpath d='M140 60 L210 0 L280 60 L210 120 Z'/%3E%3Cpath d='M280 60 L350 0 L420 60 L350 120 Z'/%3E%3Cpath d='M0 180 L70 120 L140 180 L70 240 Z'/%3E%3Cpath d='M140 180 L210 120 L280 180 L210 240 Z'/%3E%3Cpath d='M280 180 L350 120 L420 180 L350 240 Z'/%3E%3Cpath d='M0 300 L70 240 L140 300 L70 360 Z'/%3E%3Cpath d='M140 300 L210 240 L280 300 L210 360 Z'/%3E%3Cpath d='M280 300 L350 240 L420 300 L350 360 Z'/%3E%3C/g%3E%3C/svg%3E"),
    linear-gradient(180deg, rgba(0,0,0,0.05), rgba(0,0,0,0.30)) !important;
  background-size:auto, auto, 540px 460px, auto;
  background-position:0 0, 0 0, 0 0, 0 0;
  animation: lowpolyDrift 26s ease-in-out infinite !important;
  mix-blend-mode: overlay;
}
@keyframes lowpolyDrift{
  0%{ background-position:0 0, 0 0, 0 0, 0 0; }
  50%{ background-position:0 0, 0 0, 220px 160px, 0 0; }
  100%{ background-position:0 0, 0 0, 0 0, 0 0; }
}

/* CLASSE = vivo/premium, mas sem lowpoly */
html[data-theme-group="classe"]{
  --overlay-opacity:0.22;
  --overlay-softness:0.30;
}
html[data-theme-group="classe"] body::after{
  background:
    radial-gradient(circle at 25% 22%, rgba(255,255,255,0.08), transparent 60%),
    radial-gradient(circle at 78% 72%, rgba(255,255,255,0.05), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,0.08), rgba(0,0,0,0.32)) !important;
  animation: classeBreath 14s ease-in-out infinite !important;
  mix-blend-mode: overlay;
}
@keyframes classeBreath{
  0%{ opacity:calc(var(--overlay-opacity) * 0.85); }
  50%{ opacity:calc(var(--overlay-opacity) * 1.10); }
  100%{ opacity:calc(var(--overlay-opacity) * 0.85); }
}

/* SECRET = skins pesadas (noise + vinheta + bordas) */
html[data-theme-group="secret"]{
  --overlay-opacity:0.58;
  --overlay-softness:0.50;
  --skin-panel-border:2px solid rgba(255,255,255,0.18);
  --skin-panel-radius:20px;
}
html[data-theme-group="secret"] body::after{
  background:
    radial-gradient(circle at 30% 25%, rgba(255,255,255,0.08), transparent 60%),
    radial-gradient(circle at 70% 70%, rgba(255,255,255,0.05), transparent 65%),
    repeating-linear-gradient(0deg, rgba(255,255,255,0.05) 0 1px, transparent 1px 3px),
    radial-gradient(ellipse at center, rgba(0,0,0,0.05), rgba(0,0,0,0.55) 70%),
    linear-gradient(180deg, rgba(0,0,0,0.08), rgba(0,0,0,0.38)) !important;
  animation: secretDrift 18s ease-in-out infinite !important;
  mix-blend-mode: overlay;
}
@keyframes secretDrift{
  0%{ background-position:0 0, 0 0, 0 0, 0 0, 0 0; }
  50%{ background-position:0 0, 0 0, 0 180px, 0 0, 0 0; }
  100%{ background-position:0 0, 0 0, 0 0, 0 0, 0 0; }
}



/* =========================================================
   POLISH “PARECE UM JOGO” — CAMADAS EXTRAS POR GRUPO
   - aumenta muito a identidade visual (sem quebrar layout)
   ========================================================= */

/* LOW POLY: adiciona “neblina” suave na camada base */
html[data-theme-group="lowpoly"] body::before{
  animation: lowpolyFog 18s ease-in-out infinite;
}
@keyframes lowpolyFog{
  0%{ filter:saturate(1.03) contrast(1.02); }
  50%{ filter:saturate(1.10) contrast(1.06); }
  100%{ filter:saturate(1.03) contrast(1.02); }
}

/* CLASSE: brilho premium (sheen) dentro dos painéis */
html[data-theme-group="classe"]{
  --skin-panel-shadow:0 22px 70px rgba(0,0,0,0.55);
  --skin-panel-border:1px solid color-mix(in oklab, var(--accent) 18%, rgba(255,255,255,0.14));
  --skin-input-radius:12px;
}
html[data-theme-group="classe"] .panel-skin,
html[data-theme-group="classe"] .login-card-universal,
html[data-theme-group="classe"] .hero-card,
html[data-theme-group="classe"] .hub-user-header,
html[data-theme-group="classe"] .block,
html[data-theme-group="classe"] .combat-box,
html[data-theme-group="classe"] .stats-floating-box,
html[data-theme-group="classe"] .roll-card,
html[data-theme-group="classe"] .spellcasting-header,
html[data-theme-group="classe"] .spell-level-block,
html[data-theme-group="classe"] .theme-modal-card{
  position:relative;
  overflow:hidden;
}
html[data-theme-group="classe"] .panel-skin::before,
html[data-theme-group="classe"] .login-card-universal::before,
html[data-theme-group="classe"] .hero-card::before,
html[data-theme-group="classe"] .hub-user-header::before,
html[data-theme-group="classe"] .block::before,
html[data-theme-group="classe"] .combat-box::before,
html[data-theme-group="classe"] .stats-floating-box::before,
html[data-theme-group="classe"] .roll-card::before,
html[data-theme-group="classe"] .spellcasting-header::before,
html[data-theme-group="classe"] .spell-level-block::before,
html[data-theme-group="classe"] .theme-modal-card::before{
  content:"";
  position:absolute;
  inset:-2px;
  pointer-events:none;
  background:
    linear-gradient(115deg, rgba(255,255,255,0.16), transparent 40%),
    radial-gradient(900px 220px at 20% 0%, color-mix(in oklab, var(--accent) 26%, transparent), transparent 60%),
    radial-gradient(900px 260px at 85% 15%, rgba(255,255,255,0.10), transparent 62%);
  opacity:0.55;
  mix-blend-mode:overlay;
}

/* SECRET: muda o site completamente (frame + textura + contrast) */
html[data-theme-group="secret"]{
  --skin-panel-radius:26px;
  --skin-panel-blur:16px;
  --skin-panel-shadow:0 28px 90px rgba(0,0,0,0.72);
  --skin-input-radius:14px;
  --skin-input-border:1px solid color-mix(in oklab, var(--accent) 30%, rgba(255,255,255,0.18));
}
html[data-theme-group="secret"] body{
  letter-spacing:0.2px;
}
html[data-theme-group="secret"] body::before{
  background:
    /* moldura arcana */
    conic-gradient(from 180deg at 50% 50%, rgba(0,0,0,0) 0 14%, rgba(255,255,255,0.06) 14% 18%, rgba(0,0,0,0) 18% 40%, rgba(255,255,255,0.06) 40% 44%, rgba(0,0,0,0) 44% 100%),
    radial-gradient(1000px 700px at 30% 10%, color-mix(in oklab, var(--accent) 22%, transparent), transparent 70%),
    radial-gradient(900px 700px at 80% 80%, color-mix(in oklab, var(--accent) 12%, transparent), transparent 70%),
    linear-gradient(180deg, var(--bg-1), var(--bg-app));
  filter: contrast(1.10) saturate(1.06);
}
html[data-theme-group="secret"] body::after{
  /* mais textura e vinheta pesada */
  filter: blur(0.5px) contrast(1.15);
  opacity:0.62;
}
html[data-theme-group="secret"] .panel-skin,
html[data-theme-group="secret"] .login-card-universal,
html[data-theme-group="secret"] .hero-card,
html[data-theme-group="secret"] .hub-user-header,
html[data-theme-group="secret"] .block,
html[data-theme-group="secret"] .combat-box,
html[data-theme-group="secret"] .stats-floating-box,
html[data-theme-group="secret"] .roll-card,
html[data-theme-group="secret"] .spellcasting-header,
html[data-theme-group="secret"] .spell-level-block,
html[data-theme-group="secret"] .theme-modal-card{
  position:relative;
  overflow:hidden;
}
html[data-theme-group="secret"] .panel-skin::after,
html[data-theme-group="secret"] .login-card-universal::after,
html[data-theme-group="secret"] .hero-card::after,
html[data-theme-group="secret"] .hub-user-header::after,
html[data-theme-group="secret"] .block::after,
html[data-theme-group="secret"] .combat-box::after,
html[data-theme-group="secret"] .stats-floating-box::after,
html[data-theme-group="secret"] .roll-card::after,
html[data-theme-group="secret"] .spellcasting-header::after,
html[data-theme-group="secret"] .spell-level-block::after,
html[data-theme-group="secret"] .theme-modal-card::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    radial-gradient(1200px 320px at 10% 0%, color-mix(in oklab, var(--accent) 22%, transparent), transparent 65%),
    repeating-linear-gradient(0deg, rgba(255,255,255,0.06) 0 1px, transparent 1px 3px);
  opacity:0.38;
  mix-blend-mode:overlay;
}

/* BACKGROUND CANVAS (novo) — não interfere em clique */
#bg-canvas{
  position:fixed;
  inset:0;
  z-index:-2;
  width:100vw;
  height:100vh;
  pointer-events:none;
}

/* BACKGROUNDS ANIMADOS GERAIS (antigos) */
body::before, body::after{ opacity: var(--bgfx-top-opacity, 1); 
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  transition:opacity 1s, background 1s, filter 1s;
  z-index:-3;
}

/* Camada base — gradiente do tema */
body::before{ opacity: var(--bgfx-base-opacity, 1); 
  background:
    radial-gradient(1100px 700px at 20% 10%, color-mix(in oklab, var(--bg-2) 60%, transparent), transparent 65%),
    radial-gradient(900px 700px at 85% 75%, color-mix(in oklab, var(--bg-3) 60%, transparent), transparent 65%),
    linear-gradient(180deg, var(--bg-1), var(--bg-app));
  opacity:1;
}

/* Textura/overlay — pode virar tentáculos, poeira, etc por tema */
body::after{
  background:
    radial-gradient(circle at 50% 20%, rgba(255,255,255,0.06), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,0.05), rgba(0,0,0,0.25));
  opacity:var(--overlay-opacity);
  filter:blur(calc(var(--overlay-softness) * 1px));
  mix-blend-mode:overlay;
}

/* === INPUTS & ELEMENTOS GERAIS === */
input, textarea, select{
  background-color:var(--bg-input) !important;
  color:var(--text-primary) !important;
  border: var(--skin-input-border) !important;
  border-radius:var(--skin-input-radius);
  font-family:var(--font-main);
  outline:none;
  transition:var(--transition);
}
input:focus, textarea:focus, select:focus{
  border-color:var(--accent) !important;
  box-shadow:0 0 15px var(--accent-glow);
  transform:scale(1.01);
}
input::placeholder, textarea::placeholder{ color:var(--text-secondary); opacity:0.6; }

/* =========================================================
   UI LEGADA — BOTÃO SLIDE DOCK + PAINEL (mantido)
   ========================================================= */
.dock-trigger-large{
  position:fixed;
  bottom:30px;
  left:30px;
  width:60px;
  height:60px;
  border-radius:50%;
  background:var(--skin-panel-bg);
  border:2px solid var(--accent);
  font-size:30px;
  cursor:pointer;
  z-index:9000;
  transition:0.3s;
  box-shadow:0 0 20px rgba(0,0,0,0.5);
  backdrop-filter:blur(5px);
  display:flex;
  align-items:center;
  justify-content:center;
}
.dock-trigger-large:hover{
  transform:scale(1.1) rotate(15deg);
  box-shadow:0 0 30px var(--accent-glow);
}
.theme-panel{
  position:fixed;
  bottom:100px;
  left:30px;
  width:240px;
  background:var(--skin-panel-bg);
  border:var(--skin-panel-border);
  border-radius:16px;
  padding:15px;
  z-index:8999;
  display:none;
  backdrop-filter:blur(var(--skin-panel-blur));
  box-shadow:0 20px 50px rgba(0,0,0,0.5);
}
.theme-panel.active{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:8px;
  animation:fadeIn 0.3s cubic-bezier(0.18,0.89,0.32,1.28);
}
.theme-item{
  display:flex;
  align-items:center;
  gap:8px;
  padding:10px;
  cursor:pointer;
  color:var(--text-primary);
  border:1px solid transparent;
  border-radius:8px;
  font-size:11px;
  font-weight:800;
  text-transform:uppercase;
  transition:0.2s;
  user-select:none;
}
.theme-item:hover{
  border-color:var(--accent);
  background:var(--bg-input);
  transform:translateX(3px);
}
.color-dot{
  width:12px;
  height:12px;
  border-radius:50%;
  border:1px solid #fff;
  box-shadow:0 0 5px rgba(0,0,0,0.5);
}
@keyframes fadeIn{
  from{ opacity:0; transform:translateY(20px) scale(0.9); }
  to{ opacity:1; transform:translateY(0) scale(1); }
}

/* =========================================================
   NOVO — MODAL FLUTUANTE DO SELETOR DE TEMAS
   - Foco: não bugar scroll / não fechar ao clicar tema
   - Foco: botão "Selecionar" aparece APÓS clicar no tema
   ========================================================= */

.theme-modal{
  position:fixed;
  inset:0;
  z-index:9500;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,0.78);
  backdrop-filter:blur(10px);
}
.theme-modal.active{ display:flex; }

.theme-modal-card{
  width:min(1100px, 92vw);
  height:min(720px, 86vh);
  background:color-mix(in oklab, var(--skin-panel-bg) 85%, rgba(0,0,0,0.35));
  border:1px solid rgba(255,255,255,0.12);
  border-radius:28px;
  box-shadow:0 40px 120px rgba(0,0,0,0.75);
  overflow:hidden;
  position:relative;
  display:flex;
  flex-direction:column;
}

.theme-modal-topbar{
  display:flex;
  align-items:center;
  gap:14px;
  padding:18px 18px 14px 18px;
  border-bottom:1px solid rgba(255,255,255,0.08);
  background:
    radial-gradient(900px 200px at 20% 10%, rgba(255,255,255,0.07), transparent 65%),
    linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.1));
}
.theme-modal-title{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.theme-modal-title h3{
  margin:0;
  font-family:var(--font-title);
  letter-spacing:1px;
  color:var(--accent);
  text-shadow:0 0 18px var(--accent-glow);
}
.theme-modal-title p{
  margin:0;
  font-size:12px;
  color:var(--text-secondary);
  letter-spacing:0.8px;
}
.theme-modal-back{
  width:42px;
  height:42px;
  border-radius:50%;
  border:2px solid var(--accent);
  background:rgba(0,0,0,0.25);
  color:var(--accent);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:0.25s;
  box-shadow:0 0 18px rgba(0,0,0,0.6);
}
.theme-modal-back:hover{
  transform:translateY(-2px) scale(1.05);
  background:var(--accent);
  color:var(--bg-app);
  box-shadow:0 0 25px var(--accent-glow);
}

.theme-modal-body{
  flex:1;
  display:grid;
  grid-template-columns: 1fr 360px;
  gap:0;
  min-height:0; /* permite scroll interno */
}
.theme-list-pane{
  min-height:0;
  display:flex;
  flex-direction:column;
  border-right:1px solid rgba(255,255,255,0.08);
}
.theme-searchbar{
  display:flex;
  gap:10px;
  padding:14px 16px;
  border-bottom:1px solid rgba(255,255,255,0.06);
}
.theme-searchbar input{
  flex:1;
  padding:12px 14px;
  border-radius:12px;
}
.theme-searchbar select{
  width:150px;
  padding:12px 12px;
  border-radius:12px;
}

.theme-grid-wrap{
  flex:1;
  overflow:auto;
  padding:16px;
  padding-bottom:60px; /* IMPORTANT: scroll chega abaixo do último tema */
  scrollbar-gutter:stable;
}
.theme-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap:14px;
}
@media (max-width: 980px){
  .theme-modal-body{ grid-template-columns:1fr; }
  .theme-preview-pane{ display:none; }
  .theme-grid{ grid-template-columns:repeat(2, minmax(0,1fr)); }
}
@media (max-width: 560px){
  .theme-grid{ grid-template-columns:1fr; }
}

/* Card do tema */
.theme-card{
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.18);
  overflow:hidden;
  cursor:pointer;
  transition:0.25s;
  position:relative;
}
.theme-card:hover{
  transform:translateY(-4px);
  border-color:rgba(255,255,255,0.22);
  box-shadow:0 14px 40px rgba(0,0,0,0.55);
}
.theme-card.selected{
  outline:2px solid var(--ui-blue);
  box-shadow:0 0 0 4px rgba(59,130,246,0.16), 0 14px 60px rgba(0,0,0,0.65);
}
.theme-thumb{
  height:92px;
  width:100%;
  position:relative;
  background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(0,0,0,0.4));
  overflow:hidden;
}
.theme-thumb::after{
  content:"";
  position:absolute;
  inset:-40px;
  background: radial-gradient(circle at 20% 30%, rgba(255,255,255,0.18), transparent 60%),
              linear-gradient(135deg, rgba(255,255,255,0.06), rgba(0,0,0,0.25));
  transform:rotate(8deg);
  opacity:0.7;
}
.theme-thumb .theme-preview{
  position:absolute;
  inset:0;
  background-size:cover;
  background-position:center;
  filter:saturate(1.2) contrast(1.05);
}
.theme-meta{
  padding:12px 12px 12px 12px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.theme-name{
  font-weight:900;
  letter-spacing:0.6px;
  font-size:12px;
  text-transform:uppercase;
  color:rgba(255,255,255,0.9);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.theme-badge{
  font-size:9px;
  padding:3px 7px;
  border-radius:999px;
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.1);
  color:rgba(255,255,255,0.72);
}
.theme-select-btn{
  width:100%;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(59,130,246,0.6);
  background:rgba(59,130,246,0.15);
  color:#dbeafe;
  font-weight:900;
  letter-spacing:0.6px;
  text-transform:uppercase;
  cursor:pointer;
  transition:0.2s;
  opacity:0;
  transform:translateY(8px);
  pointer-events:none;
}
.theme-card.selected .theme-select-btn{
  opacity:1;
  transform:translateY(0);
  pointer-events:auto;
}
.theme-select-btn:hover{
  background:rgba(59,130,246,0.28);
  box-shadow:0 0 20px var(--ui-blue-glow);
}

.theme-preview-pane{
  padding:18px 18px 22px 18px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.theme-preview-hero{
  border-radius:22px;
  border:1px solid rgba(255,255,255,0.12);
  background:rgba(0,0,0,0.2);
  overflow:hidden;
  min-height:220px;
  position:relative;
}
.theme-preview-hero .big-preview{
  position:absolute;
  inset:0;
  background-size:cover;
  background-position:center;
  filter:saturate(1.15) contrast(1.05);
  transform:scale(1.04);
}
.theme-preview-hero::after{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(180deg, transparent 10%, rgba(0,0,0,0.85) 92%);
}
.theme-preview-info{
  position:absolute;
  left:14px;
  right:14px;
  bottom:12px;
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:10px;
  z-index:2;
}
.theme-preview-info .t{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.theme-preview-info .t strong{
  font-family:var(--font-title);
  letter-spacing:1px;
  color:#fff;
  text-shadow:0 0 18px rgba(0,0,0,0.6);
}
.theme-preview-info .t span{
  font-size:12px;
  color:rgba(255,255,255,0.7);
}

.theme-preview-pane .apply-btn{
  width:100%;
  padding:12px 14px;
  border-radius:14px;
  border:none;
  background:var(--ui-blue);
  color:white;
  font-weight:900;
  letter-spacing:0.8px;
  text-transform:uppercase;
  cursor:pointer;
  box-shadow:0 0 18px var(--ui-blue-glow);
  transition:0.2s;
}
.theme-preview-pane .apply-btn:hover{
  filter:brightness(1.08);
  transform:translateY(-2px);
}

/* =========================================================
   PREVIEWS (thumbs) — “prints” estilizados por CSS/SVG
   ========================================================= */
.theme-preview[data-preview="caramel"]{ background-image: linear-gradient(135deg,#3e2723,#c68e17); }
.theme-preview[data-preview="coffee"]{ background-image: linear-gradient(135deg,#1f1612,#7b5a3a); }
.theme-preview[data-preview="master"]{ background-image: linear-gradient(135deg,#000,#4a0404); }
.theme-preview[data-preview="arcane"]{ background-image: radial-gradient(circle at 30% 60%,#5b21b6,transparent 60%), linear-gradient(135deg,#120926,#2e1065); }
.theme-preview[data-preview="stellar"]{ background-image: radial-gradient(circle at 25% 30%,rgba(0,243,255,.65),transparent 55%), linear-gradient(135deg,#000205,#0b3d91); }
.theme-preview[data-preview="aura"]{ background-image: radial-gradient(circle at 30% 35%,rgba(255,220,120,.55),transparent 60%), radial-gradient(circle at 70% 65%,rgba(160,120,255,.45),transparent 60%), linear-gradient(135deg,#0a1020,#24104a); }
.theme-preview[data-preview="cthulhu"]{ background-image: radial-gradient(circle at 30% 50%,rgba(0,255,180,.25),transparent 60%), linear-gradient(135deg,#00140f,#062a24); }
.theme-preview[data-preview="bonfire"]{ background-image: radial-gradient(circle at 40% 70%,rgba(255,120,20,.55),transparent 55%), linear-gradient(135deg,#060408,#160a12); }
.theme-preview[data-preview="viking"]{ background-image: radial-gradient(circle at 40% 40%,rgba(120,255,240,.25),transparent 55%), linear-gradient(135deg,#05111a,#0b1e2b); }
.theme-preview[data-preview="paladin"]{ background-image: radial-gradient(circle at 35% 35%,rgba(255,220,120,.45),transparent 60%), linear-gradient(135deg,#101018,#3b2b12); }
.theme-preview[data-preview="warlock"]{ background-image: radial-gradient(circle at 50% 40%,rgba(200,80,255,.35),transparent 55%), linear-gradient(135deg,#0b0016,#160025); }
.theme-preview[data-preview="cleric"]{ background-image: radial-gradient(circle at 30% 30%,rgba(160,240,255,.35),transparent 60%), linear-gradient(135deg,#061525,#0b2c3a); }
.theme-preview[data-preview="bard"]{ background-image: radial-gradient(circle at 65% 35%,rgba(255,120,200,.35),transparent 60%), linear-gradient(135deg,#160816,#3a0b2b); }
.theme-preview[data-preview="monk"]{ background-image: radial-gradient(circle at 55% 35%,rgba(120,255,180,.28),transparent 60%), linear-gradient(135deg,#08160f,#0b2a1a); }
.theme-preview[data-preview="barbarian"]{ background-image: radial-gradient(circle at 40% 60%,rgba(255,70,70,.35),transparent 60%), linear-gradient(135deg,#220505,#450a0a); }
.theme-preview[data-preview="ranger"]{ background-image: radial-gradient(circle at 35% 55%,rgba(132,204,22,.30),transparent 60%), linear-gradient(135deg,#051a05,#1a2e05); }
.theme-preview[data-preview="samurai"]{ background-image: radial-gradient(circle at 45% 45%,rgba(255,220,120,.22),transparent 60%), linear-gradient(135deg,#0b0b0f,#2a0b10); }
.theme-preview[data-preview="pirate"]{ background-image: radial-gradient(circle at 45% 55%,rgba(80,200,255,.22),transparent 60%), linear-gradient(135deg,#071018,#0a1f2e); }
.theme-preview[data-preview="frost"]{ background-image: radial-gradient(circle at 40% 40%,rgba(190,230,255,.35),transparent 60%), linear-gradient(135deg,#040b14,#0d1f33); }
.theme-preview[data-preview="noir"]{ background-image: linear-gradient(135deg,#0a0a0b,#111827); }
.theme-preview[data-preview="desert"]{ background-image: radial-gradient(circle at 40% 40%,rgba(255,210,120,.35),transparent 60%), linear-gradient(135deg,#1c1407,#5a3b12); }
.theme-preview[data-preview="clockwork"]{ background-image: radial-gradient(circle at 45% 55%,rgba(255,190,90,.25),transparent 60%), linear-gradient(135deg,#0c0a06,#2a1b10); }
.theme-preview[data-preview="sunset"]{ background-image: linear-gradient(135deg,#190812,#ff7a18); }
.theme-preview[data-preview="classic"]{ background-image: linear-gradient(135deg,#000,#2c2c2c); }

/* SECRET previews */
.theme-preview[data-preview="secret_obsidian"]{ background-image: radial-gradient(circle at 35% 35%,rgba(183,132,255,.35),transparent 60%), linear-gradient(135deg,#040407,#120a18); }
.theme-preview[data-preview="secret_bloodmoon"]{ background-image: radial-gradient(circle at 40% 55%,rgba(255,60,90,.38),transparent 60%), linear-gradient(135deg,#060008,#1a0208); }
.theme-preview[data-preview="secret_abyss"]{ background-image: radial-gradient(circle at 45% 40%,rgba(80,200,255,.25),transparent 60%), radial-gradient(circle at 70% 70%,rgba(200,80,255,.22),transparent 60%), linear-gradient(135deg,#02040b,#0a1028); }

/* =========================================================
   TEMAS — BASE (existentes) + reworks / skins
   ========================================================= */

/* 1. CAFÉ & CARAMELO — LOW POLY CAFETERIA (especial) */
html[data-theme="caramel"],
html[data-theme="coffee_caramel"]{
  --bg-app:#2A1B15;
  --bg-1:#1a0f0a;
  --bg-2:#3e2723;
  --bg-3:#5d4037;

  --skin-panel-bg:rgba(45,30,25,0.86);
  --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(198,142,23,0.18);

  --accent:#FFB347;
  --accent-glow:rgba(255,179,71,0.55);
  --text-primary:#FFF8E1;
  --text-secondary:#D7CCC8;
  --border:#8D6E63;

  --overlay-opacity:0.22;
  --overlay-tint:rgba(40,20,10,0.35);

  --skin-panel-radius:22px;
  --skin-panel-border:1px solid rgba(255,179,71,0.18);
}

/* Mantém a animação clássica do café (antiga) — NÃO remover */
html[data-theme="caramel"] body::before,
html[data-theme="coffee_caramel"] body::before{
  background: linear-gradient(-45deg, #1a0f0a, #3e2723, #5d4037, #4a2c20);
  background-size: 400% 400%;
  animation: liquidCoffee 15s ease infinite;
  z-index:-2;
}
html[data-theme="caramel"] body::after,
html[data-theme="coffee_caramel"] body::after{
  background:
    radial-gradient(circle at center, rgba(255,179,71,0.06) 0%, transparent 70%),
    radial-gradient(circle at 30% 20%, rgba(255,255,255,0.04), transparent 60%),
    linear-gradient(180deg, rgba(0,0,0,0.05), rgba(0,0,0,0.35));
  animation: steamPulse 8s infinite alternate;
  opacity:0.6;
  mix-blend-mode:overlay;
}
@keyframes liquidCoffee{ 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
@keyframes steamPulse{ 0%{opacity:0.35;transform:scale(1)} 100%{opacity:0.65;transform:scale(1.08)} }

/* 2. MESTRE — TRONO VERMELHO VELUDO & OURO */
html[data-theme="master"]{
  --bg-app:#0f0202;
  --bg-1:#000000;
  --bg-2:#2a0505;
  --bg-3:#4a0404;

  --skin-panel-bg:rgba(26,6,6,0.9);
  --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(0,0,0,0.62);

  --accent:#FFD700;
  --accent-glow:rgba(255,215,0,0.45);
  --text-primary:#FFF5E6;
  --text-secondary:#C0A080;
  --border:#5C1515;

  --skin-panel-radius:20px;
  --skin-panel-border:1px solid rgba(255,215,0,0.14);
  --overlay-opacity:0.32;
}
html[data-theme="master"] body::before{
  background: radial-gradient(circle at 50% 30%, #4a0404 0%, #000 80%);
}
html[data-theme="master"] body::after{
  background:
    radial-gradient(circle at 30% 20%, rgba(255,215,0,0.06), transparent 55%),
    radial-gradient(circle at 70% 80%, rgba(255,215,0,0.04), transparent 60%),
    url('https://www.transparenttextures.com/patterns/black-scales.png');
  opacity:0.34;
  animation: masterBreathing 6s ease-in-out infinite alternate;
  mix-blend-mode:overlay;
}
@keyframes masterBreathing{ from{opacity:0.18} to{opacity:0.42} }

/* 3. ARCANE — MÍSTICO */
html[data-theme="arcane"]{
  --bg-app:#120926;
  --bg-1:#0f0518;
  --bg-2:#2e1065;
  --bg-3:#4c1d95;

  --skin-panel-bg:rgba(25,15,50,0.84);
  --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(139,92,246,0.16);

  --accent:#D8B4FE;
  --accent-glow:rgba(167,139,250,0.6);
  --text-primary:#F3E8FF;
  --text-secondary:#A78BFA;
  --border:#5B21B6;

  --overlay-opacity:0.30;
}
html[data-theme="arcane"] body::before{
  background:
    radial-gradient(circle at 20% 80%, #4c1d95, transparent 50%),
    radial-gradient(circle at 80% 20%, #2e1065, transparent 50%),
    linear-gradient(180deg, #0f0518, #090312);
}
html[data-theme="arcane"] body::after{
  background-image:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.16'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  animation:runeFloat 20s linear infinite;
  opacity:0.6;
}
@keyframes runeFloat{ from{background-position:0 0} to{background-position:0 600px} }

/* 4. STELLAR — COSMOS ROXO */
html[data-theme="stellar"]{
  --bg-app:#000205;
  --bg-1:#000205;
  --bg-2:#0B3D91;
  --bg-3:#2a1247;

  --skin-panel-bg:rgba(5,10,20,0.86);
  --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(0,255,255,0.10);

  --accent:#a78bfa; /* roxo neon */
  --accent-glow:rgba(167,139,250,0.65);
  --text-primary:#EDE9FE;
  --text-secondary:#A78BFA;
  --border:#312e81;

  --overlay-opacity:0.26;
}
html[data-theme="stellar"] body::before{
  background: radial-gradient(ellipse at bottom, #1e1b4b 0%, #000000 70%);
}
html[data-theme="stellar"] body::after{
  background-image:
    radial-gradient(white, rgba(255,255,255,.18) 2px, transparent 3px),
    radial-gradient(white, rgba(255,255,255,.12) 1px, transparent 2px),
    radial-gradient(white, rgba(255,255,255,.08) 2px, transparent 3px);
  background-size:550px 550px, 350px 350px, 250px 250px;
  background-position:0 0, 40px 60px, 130px 270px;
  animation: starsParallax 120s linear infinite;
  opacity:0.6;
}
@keyframes starsParallax{
  from{ background-position:0 0, 40px 60px, 130px 270px; }
  to{ background-position:550px 550px, 390px 410px, 380px 520px; }
}

/* 5. COFFEE — TAVERNA (minimalista refinado) */
html[data-theme="coffee"]{
  --bg-app:#1F1612;
  --bg-1:#0f0a08;
  --bg-2:#3e2f26;
  --bg-3:#6b4b3a;

  --skin-panel-bg:rgba(62,47,38,0.92);
  --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,245,230,0.10);

  --accent:#D4A373;
  --accent-glow:rgba(212,163,115,0.42);
  --text-primary:#FAEDCD;
  --text-secondary:#CCD5AE;
  --border:#8D6E63;

  --overlay-opacity:0.20;
}
html[data-theme="coffee"] body::after{
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,0.05), transparent 60%),
    url('https://www.transparenttextures.com/patterns/wood-pattern.png');
  opacity:0.18;
}

/* 6. MIGHT — GUERREIRO (minimal) */
html[data-theme="might"]{
  --bg-app:#220505;
  --bg-1:#0f0202;
  --bg-2:#2a0505;
  --bg-3:#450a0a;

  --skin-panel-bg:rgba(50,10,10,0.92);
  --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(0,0,0,0.32);

  --accent:#ef4444;
  --accent-glow:rgba(239,68,68,0.5);
  --text-primary:#fee2e2;
  --text-secondary:#f87171;
  --border:#7f1d1d;

  --overlay-opacity:0.24;
}
html[data-theme="might"] body::after{
  background:repeating-linear-gradient(45deg, rgba(255,0,0,0.06) 0px, rgba(255,0,0,0.06) 2px, transparent 2px, transparent 10px);
  opacity:0.45;
}

/* 7. STEALTH — LADINO (minimal) */
html[data-theme="stealth"]{
  --bg-app:#020617;
  --bg-1:#020617;
  --bg-2:#022c22;
  --bg-3:#064e3b;

  --skin-panel-bg:rgba(2,25,20,0.90);
  --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(0,0,0,0.5);

  --accent:#10b981;
  --accent-glow:rgba(16,185,129,0.42);
  --text-primary:#ecfdf5;
  --text-secondary:#34d399;
  --border:#064e3b;

  --overlay-opacity:0.28;
}
html[data-theme="stealth"] body::after{
  background:radial-gradient(circle at 50% 50%, rgba(16,185,129,0.10), transparent 60%);
  animation:pulseGlow 4s infinite alternate;
}
@keyframes pulseGlow{ from{opacity:0.28} to{opacity:0.55} }

/* 8. WILD — DRUIDA (minimal) */
html[data-theme="wild"]{
  --bg-app:#051a05;
  --bg-1:#051a05;
  --bg-2:#0b2a0b;
  --bg-3:#1a2e05;

  --skin-panel-bg:rgba(10,35,10,0.90);
  --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,255,255,0.05);

  --accent:#84cc16;
  --accent-glow:rgba(132,204,22,0.42);
  --text-primary:#f7fee7;
  --text-secondary:#bef264;
  --border:#3f6212;

  --overlay-opacity:0.22;
}
html[data-theme="wild"] body::after{
  background-image:radial-gradient(rgba(132,204,22,0.30) 1px, transparent 1px);
  background-size:80px 80px;
  opacity:0.55;
  animation:floatSpores 10s linear infinite;
}
@keyframes floatSpores{ 0%{transform:translateY(0) translateX(0)} 100%{transform:translateY(-50px) translateX(20px)} }

/* 9. AURA DO AMANHECER — ESTRELAS & GALÁXIAS */
html[data-theme="aura"]{
  --bg-app:#0a1020;
  --bg-1:#070b16;
  --bg-2:#24104a;
  --bg-3:#3b2b12;

  --skin-panel-bg:rgba(10,16,28,0.78);
  --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,220,120,0.08);

  --accent:#ffd166;
  --accent-glow:rgba(255,209,102,0.52);
  --text-primary:#f8fafc;
  --text-secondary:#cbd5e1;
  --border:rgba(255,255,255,0.12);

  --overlay-opacity:0.28;
}
html[data-theme="aura"] body::before{
  background:
    radial-gradient(circle at 20% 25%, rgba(255,220,120,0.22), transparent 55%),
    radial-gradient(circle at 70% 65%, rgba(160,120,255,0.22), transparent 60%),
    radial-gradient(ellipse at bottom, #1b1b52 0%, #03020a 70%);
}
html[data-theme="aura"] body::after{
  background-image:
    radial-gradient(white, rgba(255,255,255,.20) 2px, transparent 3px),
    radial-gradient(white, rgba(255,255,255,.12) 1px, transparent 2px),
    radial-gradient(white, rgba(255,255,255,.08) 2px, transparent 3px);
  background-size:620px 620px, 420px 420px, 280px 280px;
  background-position:0 0, 60px 90px, 160px 320px;
  animation: starsParallax 160s linear infinite;
  opacity:0.7;
}

/* 10. CTHULHU — ABISMO VERDE (low poly + tentáculos overlay) */
html[data-theme="cthulhu"]{
  --bgfx-base-opacity: 0.18;
  --bgfx-top-opacity: 0.25;

  --bg-app:#00140f;
  --bg-1:#00140f;
  --bg-2:#062a24;
  --bg-3:#083b2e;

  --skin-panel-bg:rgba(0,20,18,0.86);
  --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(0,255,180,0.07);

  --accent:#00ffb7;
  --accent-glow:rgba(0,255,183,0.45);
  --text-primary:#e6fffb;
  --text-secondary:#99f6e4;
  --border:rgba(0,255,180,0.20);

  --skin-panel-radius:14px; /* mais "duro" */
  --overlay-opacity:0.36;
}
html[data-theme="cthulhu"] body::after{
  background:
    radial-gradient(circle at 30% 30%, rgba(0,255,180,0.10), transparent 60%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='240' height='240'%3E%3Cg fill='none' stroke='%2300ffb7' stroke-opacity='0.14' stroke-width='3'%3E%3Cpath d='M30 210c30-40 10-70 50-90s55-5 80-45 35-40 70-45'/%3E%3Cpath d='M10 120c35 5 45-25 65-35s40 15 60-5 30-40 95-55'/%3E%3Cpath d='M40 10c20 30 60 25 70 55s-25 40 15 70 70 5 95 45'/%3E%3C/g%3E%3C/svg%3E");
  opacity:0.52;
  animation: tentacleDrift 18s ease-in-out infinite alternate;
  mix-blend-mode:overlay;
}
@keyframes tentacleDrift{
  from{ background-position:0 0, 0 0; transform:translateY(0); }
  to{ background-position:0 0, 240px 240px; transform:translateY(-10px); }
}

/* =========================================================
   +7 TEMAS (classes D&D) — minimalistas premium
   ========================================================= */
html[data-theme="paladin"]{
  --bg-app:#0f0f14; --bg-1:#0b0b10; --bg-2:#2a1b10; --bg-3:#3b2b12;
  --skin-panel-bg:rgba(18,18,26,0.78); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,220,120,0.08);
  --accent:#ffd166; --accent-glow:rgba(255,209,102,0.45);
  --text-primary:#fff7ed; --text-secondary:#e7d7b2; --border:rgba(255,209,102,0.18);
  --overlay-opacity:0.20;
}
html[data-theme="warlock"]{
  --bg-app:#0b0016; --bg-1:#0b0016; --bg-2:#160025; --bg-3:#2a0b3b;
  --skin-panel-bg:rgba(15,0,25,0.82); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(200,80,255,0.08);
  --accent:#c084fc; --accent-glow:rgba(192,132,252,0.55);
  --text-primary:#f5f3ff; --text-secondary:#ddd6fe; --border:rgba(192,132,252,0.18);
  --overlay-opacity:0.30;
}
html[data-theme="cleric"]{
  --bg-app:#061525; --bg-1:#061525; --bg-2:#0b2c3a; --bg-3:#134e63;
  --skin-panel-bg:rgba(6,21,37,0.82); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(160,240,255,0.08);
  --accent:#67e8f9; --accent-glow:rgba(103,232,249,0.5);
  --text-primary:#ecfeff; --text-secondary:#a5f3fc; --border:rgba(103,232,249,0.18);
  --overlay-opacity:0.24;
}
html[data-theme="bard"]{
  --bg-app:#160816; --bg-1:#160816; --bg-2:#3a0b2b; --bg-3:#5b164a;
  --skin-panel-bg:rgba(22,8,22,0.80); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,120,200,0.08);
  --accent:#fb7185; --accent-glow:rgba(251,113,133,0.55);
  --text-primary:#fff1f2; --text-secondary:#fecdd3; --border:rgba(251,113,133,0.20);
  --overlay-opacity:0.24;
}
html[data-theme="monk"]{
  --bg-app:#08160f; --bg-1:#08160f; --bg-2:#0b2a1a; --bg-3:#134e2a;
  --skin-panel-bg:rgba(8,22,15,0.80); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(120,255,180,0.07);
  --accent:#34d399; --accent-glow:rgba(52,211,153,0.5);
  --text-primary:#ecfdf5; --text-secondary:#a7f3d0; --border:rgba(52,211,153,0.18);
  --overlay-opacity:0.26;
}
html[data-theme="barbarian"]{
  --bg-app:#1a0303; --bg-1:#0f0202; --bg-2:#2a0505; --bg-3:#450a0a;
  --skin-panel-bg:rgba(26,6,6,0.88); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,70,70,0.08);
  --accent:#f97316; --accent-glow:rgba(249,115,22,0.5);
  --text-primary:#fff7ed; --text-secondary:#fed7aa; --border:rgba(249,115,22,0.18);
  --skin-panel-radius:14px; /* mais agressivo */
  --overlay-opacity:0.30;
}
html[data-theme="ranger"]{
  --bg-app:#03110a; --bg-1:#03110a; --bg-2:#052e16; --bg-3:#14532d;
  --skin-panel-bg:rgba(3,17,10,0.84); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(132,204,22,0.06);
  --accent:#a3e635; --accent-glow:rgba(163,230,53,0.45);
  --text-primary:#f7fee7; --text-secondary:#d9f99d; --border:rgba(163,230,53,0.16);
  --overlay-opacity:0.24;
}

/* =========================================================
   +10 NOVOS TEMAS (5 minimal + 5 low poly) — EXPANSÃO
   ========================================================= */

/* LOW POLY: BONFIRE (Dark Souls vibe) */
html[data-theme="bonfire"]{
  --bg-app:#060408; --bg-1:#060408; --bg-2:#160a12; --bg-3:#2b0f10;
  --skin-panel-bg:rgba(10,8,14,0.82); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,120,20,0.08);
  --accent:#ff7a18; --accent-glow:rgba(255,122,24,0.55);
  --text-primary:#fff7ed; --text-secondary:#fed7aa; --border:rgba(255,122,24,0.18);
  --skin-panel-radius:14px;
  --overlay-opacity:0.30;
}

/* LOW POLY: VIKING */
html[data-theme="viking"]{
  --bg-app:#05111a; --bg-1:#05111a; --bg-2:#0b1e2b; --bg-3:#123a4d;
  --skin-panel-bg:rgba(5,17,26,0.82); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(120,255,240,0.06);
  --accent:#22d3ee; --accent-glow:rgba(34,211,238,0.55);
  --text-primary:#e0f2fe; --text-secondary:#a5f3fc; --border:rgba(34,211,238,0.18);
  --overlay-opacity:0.26;
}

/* LOW POLY: PIRATA */
html[data-theme="pirate"]{
  --bg-app:#071018; --bg-1:#071018; --bg-2:#0a1f2e; --bg-3:#0b3d91;
  --skin-panel-bg:rgba(7,16,24,0.82); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(80,200,255,0.06);
  --accent:#38bdf8; --accent-glow:rgba(56,189,248,0.55);
  --text-primary:#e0f2fe; --text-secondary:#bae6fd; --border:rgba(56,189,248,0.18);
  --overlay-opacity:0.24;
}

/* LOW POLY: SAMURAI */
html[data-theme="samurai"]{
  --bg-app:#0b0b0f; --bg-1:#0b0b0f; --bg-2:#2a0b10; --bg-3:#450a0a;
  --skin-panel-bg:rgba(11,11,15,0.84); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,220,120,0.06);
  --accent:#f59e0b; --accent-glow:rgba(245,158,11,0.5);
  --text-primary:#fff7ed; --text-secondary:#fed7aa; --border:rgba(245,158,11,0.16);
  --skin-panel-radius:12px;
  --overlay-opacity:0.30;
}

/* LOW POLY: DESERTO */
html[data-theme="desert"]{
  --bg-app:#1c1407; --bg-1:#1c1407; --bg-2:#5a3b12; --bg-3:#c68e17;
  --skin-panel-bg:rgba(28,20,7,0.80); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,210,120,0.06);
  --accent:#fbbf24; --accent-glow:rgba(251,191,36,0.55);
  --text-primary:#fff7ed; --text-secondary:#fde68a; --border:rgba(251,191,36,0.18);
  --overlay-opacity:0.24;
}

/* MINIMAL: FROST */
html[data-theme="frost"]{
  --bg-app:#040b14; --bg-1:#040b14; --bg-2:#0d1f33; --bg-3:#1b3a5c;
  --skin-panel-bg:rgba(4,11,20,0.82); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(190,230,255,0.06);
  --accent:#7dd3fc; --accent-glow:rgba(125,211,252,0.55);
  --text-primary:#e0f2fe; --text-secondary:#bae6fd; --border:rgba(125,211,252,0.18);
  --overlay-opacity:0.22;
}

/* MINIMAL: NOIR */
html[data-theme="noir"]{
  --bg-app:#07070a; --bg-1:#07070a; --bg-2:#111827; --bg-3:#0b1220;
  --skin-panel-bg:rgba(10,10,12,0.76); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,255,255,0.05);
  --accent:#60a5fa; --accent-glow:rgba(96,165,250,0.55);
  --text-primary:#e5e7eb; --text-secondary:#9ca3af; --border:rgba(255,255,255,0.12);
  --overlay-opacity:0.18;
}

/* MINIMAL: CLOCKWORK */
html[data-theme="clockwork"]{
  --bg-app:#0c0a06; --bg-1:#0c0a06; --bg-2:#2a1b10; --bg-3:#5a3b12;
  --skin-panel-bg:rgba(12,10,6,0.80); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,190,90,0.06);
  --accent:#fbbf24; --accent-glow:rgba(251,191,36,0.45);
  --text-primary:#fff7ed; --text-secondary:#fde68a; --border:rgba(251,191,36,0.16);
  --overlay-opacity:0.22;
}

/* MINIMAL: SUNSET */
html[data-theme="sunset"]{
  --bg-app:#190812; --bg-1:#190812; --bg-2:#5b164a; --bg-3:#ff7a18;
  --skin-panel-bg:rgba(25,8,18,0.78); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,122,24,0.06);
  --accent:#fb7185; --accent-glow:rgba(251,113,133,0.55);
  --text-primary:#fff1f2; --text-secondary:#fecdd3; --border:rgba(251,113,133,0.18);
  --overlay-opacity:0.26;
}

/* MINIMAL: CLASSIC */
html[data-theme="classic"]{
  --bg-app:#000;
  --bg-1:#000;
  --bg-2:#111;
  --bg-3:#222;

  --skin-panel-bg:rgba(0,0,0,0.72);
  --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,255,255,0.05);

  --accent:#ffffff;
  --accent-glow:rgba(255,255,255,0.25);
  --text-primary:#ffffff;
  --text-secondary:rgba(255,255,255,0.65);
  --border:rgba(255,255,255,0.20);

  --overlay-opacity:0.12;
}

/* =========================================================
   SECRET (skins pesadas)
   - overlays + bordas + contraste mais alto
   ========================================================= */
html[data-theme="secret_obsidian"]{
  --bg-app:#040407; --bg-1:#040407; --bg-2:#120a18; --bg-3:#1a0f2a;
  --skin-panel-bg:rgba(8,8,12,0.78); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(183,132,255,0.08);
  --accent:#b784ff; --accent-glow:rgba(183,132,255,0.55);
  --text-primary:#f5f3ff; --text-secondary:#ddd6fe;
  --border:rgba(183,132,255,0.22);
}

html[data-theme="secret_bloodmoon"]{
  --bg-app:#060008; --bg-1:#060008; --bg-2:#1a0208; --bg-3:#2a060f;
  --skin-panel-bg:rgba(10,0,6,0.82); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(255,60,90,0.08);
  --accent:#ff3c5a; --accent-glow:rgba(255,60,90,0.55);
  --text-primary:#fff1f2; --text-secondary:#fecdd3;
  --border:rgba(255,60,90,0.22);
}

html[data-theme="secret_abyss"]{
  --bg-app:#02040b; --bg-1:#02040b; --bg-2:#0a1028; --bg-3:#16002a;
  --skin-panel-bg:rgba(2,4,11,0.78); --bg-panel:var(--skin-panel-bg);
  --bg-input:rgba(80,200,255,0.06);
  --accent:#50c8ff; --accent-glow:rgba(80,200,255,0.55);
  --text-primary:#e0f2fe; --text-secondary:#bae6fd;
  --border:rgba(80,200,255,0.20);
}

/* =========================================================
   COMPONENTES COM SKIN — sem quebrar layout (importante)
   ========================================================= */

.panel-skin, .login-card-universal, .hero-card, .hub-user-header, .block, .combat-box, .stats-floating-box, .roll-card, .spellcasting-header, .spell-level-block, .theme-modal-card{
  border-radius:var(--skin-panel-radius) !important;
  background:var(--skin-panel-bg) !important;
  border:var(--skin-panel-border) !important;
  backdrop-filter:blur(var(--skin-panel-blur));
  box-shadow:var(--skin-panel-shadow);
}

/* Avatares e fotos (borda por tema) */
.avatar-small, .hero-img-box{
  border-radius:var(--skin-avatar-radius) !important;
  border:var(--skin-avatar-border) !important;
}

/* Botões com animação padronizada */
button{
  transition:0.2s ease;
}
button:hover{ transform:translateY(-2px); }
button:active{ transform:translateY(0px) scale(0.98); }

/* =========================================================
   Acessibilidade / utilitários
   ========================================================= */
.hidden{ display:none !important; }


/* =========================================================
   CHECKBOX GLASS (para inputs padrão, ex: death saves)
   ========================================================= */
.vg-check{
  appearance:none;
  -webkit-appearance:none;
  width:16px;
  height:16px;
  border-radius:5px;
  border:2px solid rgba(255,255,255,0.35);
  background: rgba(0,0,0,0.25);
  display:inline-grid;
  place-items:center;
  cursor:pointer;
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
.vg-check:hover{ transform: scale(1.08); border-color: var(--accent); box-shadow: 0 0 10px var(--accent-glow); }
.vg-check:checked{
  background: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(0,0,0,0.10));
  border-color: var(--accent);
  box-shadow: 0 0 12px var(--accent-glow);
}
.vg-check:checked::after{
  content:"✔";
  font-size:10px;
  font-weight:900;
  color: var(--accent);
  transform: translateY(-0.5px);
}


/* === LOW POLY WALLPAPER MODE: desliga overlays antigos (evita fusão/piscar) === */
html[data-theme="coffee_caramel"] body::before,
html[data-theme="coffee_caramel"] body::after,
html[data-theme="cthulhu"] body::before,
html[data-theme="cthulhu"] body::after,
html[data-theme="bonfire"] body::before,
html[data-theme="bonfire"] body::after,
html[data-theme="viking"] body::before,
html[data-theme="viking"] body::after,
html[data-theme="pirate"] body::before,
html[data-theme="pirate"] body::after,
html[data-theme="desert"] body::before,
html[data-theme="desert"] body::after,
html[data-theme="skycity"] body::before,
html[data-theme="skycity"] body::after,
html[data-theme="icekeep"] body::before,
html[data-theme="icekeep"] body::after,
html[data-theme="undersea"] body::before,
html[data-theme="undersea"] body::after{
  opacity: 0 !important;
  background: none !important;
  animation: none !important;
}

/* =========================================================
   REWORK 2026-02-10 — "PARECE UM JOGO"
   - Rework completo de todos os temas NÃO-lowpoly
   - SECRET agora transforma o site com cenas absurdas
   - CLASSE fica premium/vivo (sheen + fundo temático)
   - MINIMAL ganha identidade forte sem poluir
   ========================================================= */

/* Texture (inline) — evita depender de URLs externas */
:root{
  --vg-noise:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='320' height='320'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='320' height='320' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
  --vg-spark:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cg fill='white' opacity='.7'%3E%3Ccircle cx='18' cy='34' r='1'/%3E%3Ccircle cx='90' cy='18' r='.8'/%3E%3Ccircle cx='150' cy='60' r='1.2'/%3E%3Ccircle cx='40' cy='160' r='1.1'/%3E%3Ccircle cx='170' cy='170' r='.9'/%3E%3Ccircle cx='120' cy='140' r='.7'/%3E%3C/g%3E%3C/svg%3E");
}

@keyframes vg-drift{
  0%{ transform: translate3d(-8px,-8px,0) scale(1.03); }
  50%{ transform: translate3d(10px,12px,0) scale(1.06); }
  100%{ transform: translate3d(-8px,-8px,0) scale(1.03); }
}

@keyframes vg-waves{
  0%{ background-position: 0 0, 0 0, 0 0; }
  50%{ background-position: 240px 0, -160px 0, 0 120px; }
  100%{ background-position: 0 0, 0 0, 0 0; }
}

@keyframes vg-embers{
  0%{ background-position: 0 0, 0 0; opacity: .35; }
  50%{ background-position: 160px -220px, 80px -140px; opacity: .55; }
  100%{ background-position: 0 0, 0 0; opacity: .35; }
}

/* =========================
   SECRET — transformação TOTAL
   ========================= */

/* LUA DE SANGUE — lua gigante + mar de sangue + floresta */
html[data-theme="secret_bloodmoon"]{
  --accent:#ff3b6b;
  --accent-glow: rgba(255,59,107,0.65);
  --overlay-opacity:0.78;
}
html[data-theme="secret_bloodmoon"] body::before{
  opacity: 1 !important;
  background:
    /* lua de sangue */
    radial-gradient(circle at 76% 18%, rgba(255,60,90,0.95) 0 10%, rgba(255,60,90,0.38) 16%, transparent 28%),
    radial-gradient(circle at 76% 18%, rgba(255,255,255,0.10) 0 6%, transparent 18%),
    /* céu */
    radial-gradient(1200px 700px at 20% 10%, rgba(255,60,90,0.12), transparent 70%),
    radial-gradient(1000px 700px at 10% 70%, rgba(140,0,40,0.22), transparent 70%),
    linear-gradient(180deg, #05000a, #110008 50%, #22000a 100%);
  filter: contrast(1.15) saturate(1.20);
}
html[data-theme="secret_bloodmoon"] body::after{
  opacity: 1 !important;
  background:
    /* mar de sangue (ondas) */
    repeating-linear-gradient( 0deg, rgba(255,40,70,0.20) 0 2px, rgba(0,0,0,0.0) 2px 10px),
    repeating-linear-gradient( 90deg, rgba(255,40,70,0.12) 0 1px, rgba(0,0,0,0.0) 1px 12px),
    radial-gradient(1000px 260px at 50% 82%, rgba(255,40,70,0.35), transparent 70%),
    /* silhueta de floresta */
    linear-gradient(180deg, rgba(0,0,0,0.00) 0 56%, rgba(0,0,0,0.70) 70%, rgba(0,0,0,0.95) 100%),
    var(--vg-noise);
  background-size: auto, auto, auto, auto, 520px 520px;
  mix-blend-mode: overlay;
  animation: vg-waves 16s ease-in-out infinite;
  filter: contrast(1.15) blur(0.2px);
}

/* OBSIDIANA — cristais + brilho roxo + moldura */
html[data-theme="secret_obsidian"]{
  --accent:#b784ff;
  --accent-glow: rgba(183,132,255,0.70);
  --overlay-opacity:0.72;
}
html[data-theme="secret_obsidian"] body::before{
  background:
    radial-gradient(900px 520px at 20% 15%, rgba(183,132,255,0.18), transparent 70%),
    radial-gradient(900px 620px at 85% 70%, rgba(0,220,255,0.10), transparent 72%),
    linear-gradient(180deg, #040407, #080010 55%, #02030a);
  filter: contrast(1.12) saturate(1.10);
}
html[data-theme="secret_obsidian"] body::after{
  opacity: 1 !important;
  background:
    /* shards */
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='520' height='360' viewBox='0 0 520 360'%3E%3Cg fill='none' stroke='rgba(255,255,255,0.10)' stroke-width='1.2'%3E%3Cpath d='M40 320 L120 40 L180 320 Z'/%3E%3Cpath d='M160 340 L260 80 L320 340 Z'/%3E%3Cpath d='M300 330 L420 60 L490 330 Z'/%3E%3C/g%3E%3C/svg%3E"),
    radial-gradient(900px 260px at 30% 20%, rgba(183,132,255,0.22), transparent 70%),
    var(--vg-noise);
  background-size: 560px 420px, auto, 520px 520px;
  mix-blend-mode: overlay;
  animation: vg-drift 18s ease-in-out infinite;
  filter: blur(0.3px) contrast(1.18);
}

/* ABYSS — vórtice + profundidade */
html[data-theme="secret_abyss"]{
  --accent:#4fd1ff;
  --accent-glow: rgba(79,209,255,0.65);
  --overlay-opacity:0.74;
}
html[data-theme="secret_abyss"] body::before{
  background:
    radial-gradient(circle at 50% 40%, rgba(79,209,255,0.18), transparent 38%),
    radial-gradient(circle at 50% 42%, rgba(180,70,255,0.14), transparent 52%),
    conic-gradient(from 210deg at 50% 46%, rgba(79,209,255,0.00) 0 18%, rgba(79,209,255,0.12) 18% 24%, rgba(0,0,0,0) 24% 60%, rgba(180,70,255,0.14) 60% 66%, rgba(0,0,0,0) 66% 100%),
    linear-gradient(180deg, #02040b, #060716 55%, #000208);
  filter: contrast(1.14) saturate(1.10);
}
html[data-theme="secret_abyss"] body::after{
  opacity: 1 !important;
  background:
    radial-gradient(1200px 520px at 50% 46%, rgba(79,209,255,0.18), transparent 70%),
    radial-gradient(1200px 520px at 50% 46%, rgba(180,70,255,0.14), transparent 70%),
    var(--vg-spark),
    var(--vg-noise);
  background-size: auto, auto, 260px 260px, 520px 520px;
  mix-blend-mode: overlay;
  animation: vg-embers 20s ease-in-out infinite;
}

/* Secret: painéis ganham moldura forte (UI realmente muda) */
html[data-theme^="secret_"] .panel-skin,
html[data-theme^="secret_"] .login-card-universal,
html[data-theme^="secret_"] .hero-card,
html[data-theme^="secret_"] .hub-user-header,
html[data-theme^="secret_"] .block,
html[data-theme^="secret_"] .combat-box,
html[data-theme^="secret_"] .stats-floating-box,
html[data-theme^="secret_"] .roll-card,
html[data-theme^="secret_"] .spellcasting-header,
html[data-theme^="secret_"] .spell-level-block,
html[data-theme^="secret_"] .theme-modal-card,
html[data-theme^="secret_"] .hero-card-floating,
html[data-theme^="secret_"] .sheet-tabs-bar{
  border: 2px solid color-mix(in oklab, var(--accent) 40%, rgba(255,255,255,0.18)) !important;
  box-shadow: 0 28px 90px rgba(0,0,0,0.78), 0 0 0 1px rgba(255,255,255,0.06) inset;
}

/* =========================
   CLASSE — premium/vivo (fundo temático por classe)
   ========================= */

@keyframes vg-class-sheen{
  0%{ background-position: -320px 0, 0 0; }
  50%{ background-position: 920px 0, 0 0; }
  100%{ background-position: -320px 0, 0 0; }
}

html[data-theme-group="classe"] body::before{
  animation: vg-drift 20s ease-in-out infinite;
}

/* Paladino: vitral solar */
html[data-theme="paladin"] body::after{
  background:
    linear-gradient(115deg, rgba(255,220,120,0.20), transparent 45%),
    repeating-linear-gradient(90deg, rgba(255,220,120,0.10) 0 2px, transparent 2px 14px),
    var(--vg-noise);
  background-size: auto, auto, 520px 520px;
  animation: vg-class-sheen 12s ease-in-out infinite;
  opacity: 0.62;
}

/* Warlock: pacto (runas) */
html[data-theme="warlock"] body::after{
  background:
    radial-gradient(circle at 55% 40%, rgba(200,80,255,0.20), transparent 60%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cg fill='none' stroke='rgba(255,255,255,0.12)' stroke-width='1'%3E%3Cpath d='M110 18 L138 58 L182 66 L152 102 L160 146 L110 126 L60 146 L68 102 L38 66 L82 58 Z'/%3E%3Ccircle cx='110' cy='110' r='26'/%3E%3C/g%3E%3C/svg%3E"),
    var(--vg-noise);
  background-size: auto, 260px 260px, 520px 520px;
  animation: vg-embers 18s ease-in-out infinite;
  opacity: 0.62;
}

/* Cleric: pó divino */
html[data-theme="cleric"] body::after{
  background:
    radial-gradient(circle at 30% 30%, rgba(160,240,255,0.18), transparent 60%),
    var(--vg-spark),
    var(--vg-noise);
  background-size: auto, 240px 240px, 520px 520px;
  animation: vg-embers 22s ease-in-out infinite;
  opacity: 0.58;
}

/* Bard: palco neon */
html[data-theme="bard"] body::after{
  background:
    linear-gradient(90deg, rgba(255,120,200,0.14), transparent 55%),
    repeating-linear-gradient(90deg, rgba(255,120,200,0.10) 0 1px, transparent 1px 10px),
    var(--vg-noise);
  background-size: auto, auto, 520px 520px;
  animation: vg-class-sheen 10s ease-in-out infinite;
  opacity: 0.62;
}

/* Monk: bruma zen */
html[data-theme="monk"] body::after{
  background:
    radial-gradient(900px 420px at 40% 20%, rgba(120,255,180,0.14), transparent 70%),
    radial-gradient(900px 520px at 80% 80%, rgba(255,255,255,0.08), transparent 70%),
    var(--vg-noise);
  background-size: auto, auto, 520px 520px;
  animation: vg-drift 22s ease-in-out infinite;
  opacity: 0.52;
}

/* Barbarian: cinzas + faíscas */
html[data-theme="barbarian"] body::after{
  background:
    radial-gradient(1000px 320px at 50% 82%, rgba(255,70,70,0.18), transparent 70%),
    var(--vg-spark),
    var(--vg-noise);
  background-size: auto, 240px 240px, 520px 520px;
  animation: vg-embers 14s ease-in-out infinite;
  opacity: 0.62;
}

/* Ranger: poeira/floresta */
html[data-theme="ranger"] body::after{
  background:
    radial-gradient(1000px 420px at 30% 30%, rgba(132,204,22,0.16), transparent 70%),
    var(--vg-spark),
    var(--vg-noise);
  background-size: auto, 280px 280px, 520px 520px;
  animation: vg-embers 26s ease-in-out infinite;
  opacity: 0.56;
}

/* =========================
   MINIMAL — identidade forte sem poluir (jogo)
   ========================= */

/* Stelar e Aura: estrelas e poeira mais vivas */
html[data-theme="stellar"] body::after,
html[data-theme="aura"] body::after{
  background:
    radial-gradient(circle at 30% 22%, rgba(255,255,255,0.10), transparent 60%),
    var(--vg-spark),
    var(--vg-noise);
  background-size: auto, 260px 260px, 520px 520px;
  animation: vg-embers 28s ease-in-out infinite;
  opacity: 0.60;
}

/* Master: veludo + brilho de ouro (sem textura externa) */
html[data-theme="master"] body::after{
  background:
    radial-gradient(circle at 30% 20%, rgba(255,215,0,0.10), transparent 55%),
    radial-gradient(circle at 70% 80%, rgba(255,215,0,0.06), transparent 60%),
    var(--vg-noise);
  background-size: auto, auto, 520px 520px;
  animation: vg-drift 18s ease-in-out infinite;
  opacity: 0.58;
}

/* Stealth: scanlines suaves */
html[data-theme="stealth"] body::after{
  background:
    radial-gradient(circle at 50% 50%, rgba(16,185,129,0.14), transparent 62%),
Finally a big patch. Might be too long but ok.
